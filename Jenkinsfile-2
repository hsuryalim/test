pipeline {
	agent any

	options {
		timestamps()
	}

	stages {
		stage('Build') {
			input {
				message "Please specify the environment"
				ok "OK"
				submitter "dummyuser, hsuryalim"
				submitterParameter "whoIsSubmitter"
				parameters {
					string(name: 'environment', defaultValue: 'Dev', description: 'Environment to build for (valid values: Dev, Test, Prod)')
					string(name: 'version', defaultValue: '1.0', description:'Version number to build for')
					booleanParam(name: 'deploy_to_production', defaultValue: true, description: '')
					choice(choices: 'US\nJP\nAUS\nID', description: 'AWS Region', name: 'region')
					text(name: 'myText', defaultValue: 'myPasswordValue', description: 'myDescription')
					password(name: 'myPassword', defaultValue:'passwordValue', description:'my password')
					credentials(name: 'myCredentials', description: 'myCredentialDesc', required: true)
				}
			}

			steps {
				echo "We are building for ${environment} ${version} and we are deploying to production: ${deploy_to_production}"
				echo "AWS Region is ${region} , myText is ${myText}, myPassword is ${myPassword}"
				echo "submitter is ${whoIsSubmitter}"
				echo "selected credentials is: ${myCredentials}"
			}
		}
	}
}
